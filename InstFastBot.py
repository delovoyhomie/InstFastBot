    """
    –ë–æ—Ç –¥–ª—è –∏–Ω—Å—Ç–∞–≥—Ä–∞–º–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Å—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ(InstFastBot)
    
    –§—É–Ω–∫—Ü–∏–∏: 
    üìï–°–ø—Ä–∞–≤–∫–∞ (/help): 
    üìå  1) –ü—Ä–æ–ª–∞–π–∫–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫–∫–∞—É–Ω—Ç (/like_all_acc);  # /like_all_acc - –∫–Ω–æ–ø–∫–∞ –≤ —Ç–µ–ª–µ–≥–µ, –Ω–∞–∂–∞–≤ –Ω–∞ –Ω–µ—ë –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
    üìå 2) –õ–∞–π–∫–Ω—É—Ç—å –ø–æ—Å—Ç –ø–æ —Å—Å—ã–ª–∫–µ (/like_post);           # /like_post - –∫–Ω–æ–ø–∫–∞ –≤ —Ç–µ–ª–µ–≥–µ, –Ω–∞–∂–∞–≤ –Ω–∞ –Ω–µ—ë –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
    üì≤ 3) –°–∫–∞—á–∞—Ç—å —Ñ–æ—Ç–æ –ø–æ—Å—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ (/save_photo);     # /save_photo - –∫–Ω–æ–ø–∫–∞ –≤ —Ç–µ–ª–µ–≥–µ, –Ω–∞–∂–∞–≤ –Ω–∞ –Ω–µ—ë –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
    üìù 4) –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç (/subscribe)             # /subscribe - –∫–Ω–æ–ø–∫–∞ –≤ —Ç–µ–ª–µ–≥–µ, –Ω–∞–∂–∞–≤ –Ω–∞ –Ω–µ—ë –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
    ps —Ç–∞–∫–∂–µ –µ—Å—Ç—å –∫–æ–º–∞–Ω–¥–∞ /start (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è) –∏ /about
    
    –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
    –ë–æ—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞. –ù–∞ –ø–∫ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Å —Ç–µ–ª–µ–≥–∏, –∑–∞—Ç–µ–º —á–µ—Ä–µ–∑ —ç–º—É–ª—è—Ç–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ(webdriver –¥–ª—è chrome) –±–æ—Ç –∑–∞—Ö–æ–¥–∏—Ç –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç Instagram
    –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. 
    –¢.–µ. –±–æ—Ç –ø–æ X-Patch –∏—â–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω—É–∂–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–∏–º–∏.
    
    –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
    1) –ü—Ä–æ–ª–∞–π–∫–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫–∫–∞—É–Ω—Ç: 
    1.1 –±–æ—Ç –≤—Ö–æ–¥–∏—Ç –≤ —Å–≤–æ–π –∞–∫–∫
    1.2 –ø—Ä–æ–ª–∏—Å—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–±–∏—Ä–∞—è –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ—Å—Ç—ã –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Ö –≤ txt —Ñ–∞–π–ª. –¢–∞–º –æ–Ω–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π, –∏, –≤ –ø–æ—Ä—è–¥–∫–µ –æ—á–µ—Ä–µ–¥–∏,
    —Å—Ç–∞–≤–∏—Ç –ª–∞–π–∫–∏ –ø–æ X-Patch(–Ω–∞—Ö–æ–¥–∏—Ç button(–∫–Ω–æ–ø–∫—É –ª–∞–π–∫–∞) –∏ –∫–ª–∏–∫–∞–µ—Ç)
    
    2) –õ–∞–π–∫–Ω—É—Ç—å –ø–æ—Å—Ç –ø–æ —Å—Å—ã–ª–∫–µ:
    1.1 –±–æ—Ç –≤—Ö–æ–¥–∏—Ç –≤ —Å–≤–æ–π –∞–∫–∫
    1.2 –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –ø–æ—Å—Ç–∞ –∏ —Å—Ç–∞–≤–∏—Ç –ª–∞–π–∫
    
    3) –°–∫–∞—á–∞—Ç—å —Ñ–æ—Ç–æ –ø–æ—Å—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ:
    1. –õ–∏–±–æ —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É requests
    2. –õ–∏–±–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ html –∫–æ–¥(—è —ç—Ç–æ —É–±—Ä–∞–ª –∏–∑ –∫–æ–¥–∞ –∏–∑-–∑–∞ –Ω–µ–Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏)
    
    4)–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç:
    1.1 –±–æ—Ç –≤—Ö–æ–¥–∏—Ç –≤ —Å–≤–æ–π –∞–∫–∫
    1.2 –∏—â–µ—Ç –∫–Ω–æ–ø–∫—É –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ X-Patch –∏ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –Ω–µ—ë.
    
    
    
    """
import telebot
from telebot import types
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from token_bot import token
import time
import random
import requests
from selenium.common.exceptions import NoSuchElementException
bot = telebot.TeleBot(token)


def login(username, password):
    try:
        global browser
        browser = webdriver.Chrome('chromedriver')   # —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–±-–¥—Ä–∞–π–≤–µ—Ä–∞ —Ö—Ä–æ–º
        browser.get('https://www.instagram.com')     # –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–∫–∏
        time.sleep(6)                                # –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–æ–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Å–µ–∫—É–Ω–¥—ã)
        username_input = browser.find_element_by_name('username')   # –∏—â–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —ç–ª–µ–º–µ–Ω—Ç —Å –∏–º–µ–Ω–µ–º "username"
        username_input.clear()                       # –æ—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è "username" (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
        username_input.send_keys(username)           # –≤ –ø–æ–ª–µ "username" –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ username –∏–∑ py-—Ñ–∞–π–ª–∞
        time.sleep(2)
        password_input = browser.find_element_by_name('password') # –∏—â–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç password
        password_input.clear()                       # –æ—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è "–ø–∞—Ä–æ–ª—å"
        password_input.send_keys(password)           # –≤ –ø–æ–ª–µ "–ø–∞—Ä–æ–ª—å" –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –∏–∑ py-—Ñ–∞–π–ª–∞
        password_input.send_keys(Keys.ENTER)         # –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ "–≤–æ–π—Ç–∏" (Enter)

        time.sleep(10)
        browser.find_element_by_xpath('/html/body/div[1]/section/main/div/div/div/div/button').click() # –∏—â–µ—Ç –ø–æ xpath —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        time.sleep(2)
        browser.find_element_by_xpath('/html/body/div[4]/div/div/div/div[3]/button[2]').click()
        time.sleep(2)
    except Exception as ex:
        print(ex)


def get_all_posts_urls(userpage):
    # —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ –ø–æ—Å—Ç—ã
    browser.get('https://www.instagram.com/' + userpage + '/')
    posts_count = browser.find_element_by_xpath("/html/body/div[1]/section/main/div/header/section/ul/li[1]/span/span").text  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤
    posts_count = int(posts_count)
    print('–ö–æ–ª-–≤–æ –ø–æ—Å—Ç–æ–≤:', posts_count)
    scroll_posts_count = int(posts_count // 12)  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∫—Ä—É—Ç–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ 12 –ø–æ—Å—Ç–æ–≤

    post_urls = []
    for i in range(0, scroll_posts_count):   # –∫–æ–ª-–≤–æ –ø—Ä–æ–∫—Ä—É—Ç–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        hrefs = browser.find_elements_by_tag_name('a')
        hrefs = [item.get_attribute('href') for item in hrefs if "/p/" in item.get_attribute('href')] # –ø–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –ø–æ 'p' –≤ —Å—Å—ã–ª–∫–µ

        for href in hrefs:
            post_urls.append(href) # –≤ —Å–ø–∏—Å–∫–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ —Å—Å—ã–ª–∫–∏

        browser.execute_script("window.scrollTo(0, document.body.scrollHeight);") # –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ –≤—Å–µ–π –µ—ë –¥–ª–∏–Ω–µ (—á—Ç–æ-—Ç–æ –æ–∫–æ–ª–æ 12-16 –ø–æ—Å—Ç–æ–≤)
        time.sleep(random.randrange(2, 4))
        print(f"–ò—Ç–µ—Ä–∞—Ü–∏—è #{i}")

    set_posts_urls = set(post_urls) # —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å—Å—ã–ª–æ–∫ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π —Å—Å—ã–ª–æ–∫
    set_posts_urls = list(set_posts_urls)

    with open(f'{userpage}_set.txt', 'w') as file:
        for i_post_url in set_posts_urls:
            file.write(i_post_url + '\n')


# –Ω–∞–∫—Ä—É—Ç–∫–∞ –ª–∞–π–∫–æ–≤ –Ω–∞ –≤–µ—Å—å –∞–∫–∫–∞—É–Ω—Ç
def get_many_likes(userpage):
    login(username='', password='') #username - –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞, password - –ø–∞—Ä–æ–ª—å –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞
    get_all_posts_urls(userpage=nickname)
    with open(f'{nickname}_set.txt', 'r') as file:
        urls_list = file.readlines()
        for i_post_url in urls_list:
            try:
                browser.get(i_post_url)
                time.sleep(2)

                like_button = "/html/body/div[1]/section/main/div/div/article/div[3]/section[1]/span[1]/button"
                browser.find_element_by_xpath(like_button).click()
                # time.sleep(random.randrange(80, 100))
                time.sleep(2)

                print(f"–õ–∞–π–∫ –Ω–∞ –ø–æ—Å—Ç: {i_post_url} —É—Å–ø–µ—à–Ω–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω!")

            except Exception as ex:
                print(ex)
                browser.close()
                browser.quit()
    time.sleep(2)
    browser.close()
    browser.quit()

# –ø–æ—Å—Ç–∞–≤–∫–∞ –ª–∞–π–∫–∞ –Ω–∞ –ø–æ—Å—Ç
def instbot_like_on_post():
    login(username='', password='') #username - –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞, password - –ø–∞—Ä–æ–ª—å –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞
    browser.get(link_like_on_post)
    time.sleep(5)
    like_button = "/html/body/div[1]/section/main/div/div/article/div[3]/section[1]/span[1]/button" # —Ö—Ä–∞th –∫–Ω–æ–ø–∫–∏ –ª–∞–π–∫–∞
    browser.find_element_by_xpath(like_button).click()
    time.sleep(2)
    browser.close()
    browser.quit()


#—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
def download_file_photo_acc(userpage):
    global post_id
    login(username='', password='') #username - –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞, password - –ø–∞—Ä–æ–ª—å –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞
    userpage = nickname_download_photoo_acc
    browser.get(userpage)
    time.sleep(4)

    # img_src = "/html/body/div[6]/div[2]/div/article/div[2]/div/div[1]/div[2]/div/div/div/ul/li[2]/div/div/div/div[2]"
    # img_src_url = browser.find_element_by_xpath(img_src).get_attribute("src")

    s = browser.find_element_by_class_name('FFVAD').get_attribute('src')
    r = requests.get(s, stream=True)

    post_id = userpage.split("/")[-2]
    with open(str(post_id) +".jpg", "wb") as img_file:
        img_file.write(r.content)
    browser.close()
    browser.quit()

# –ø–æ–¥–ø–∏—Å–∫–∞
def follow(userpage):
    login(username='', password='') #username - –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞, password - –ø–∞—Ä–æ–ª—å –∞–∫–∫–∞—É–Ω—Ç–∞ –±–æ—Ç–∞
    browser.get('https://www.instagram.com/' + userpage + '/')
    browser.find_element_by_xpath('/html/body/div[1]/section/main/div/header/section/div[1]/div[1]/div/div/div/span/span[1]/button').click() #–∫–Ω–æ–ø–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

    browser.close()
    browser.quit()


# –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã /about, –±–æ—Ç –±—É–¥–µ—Ç –ø–∏—Å–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
@bot.message_handler(commands=['start']) # –∫–æ–º–∞–Ω–¥–∞ /start
def welcome(message):
    markdown = types.ReplyKeyboardMarkup(resize_keyboard=True)
    item1 = types.KeyboardButton("–°–ø—Ä–∞–≤–∫–∞")
    markdown.add(item1)
    bot.send_message(message.chat.id, '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!\n–ù–∞–∂–º–∏ –Ω–∞ –ø–ª–∞—à–∫—É "–°–ø—Ä–∞–≤–∫–∞" —Å–Ω–∏–∑—É –∏ —É–≤–∏–¥–∏—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç',  reply_markup=markdown)

@bot.message_handler(commands=['help'])  # –∫–æ–º–∞–Ω–¥–∞ /help
def help(message):
    bot.send_message(message.chat.id, 'ü§ñ –£–±–µ–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ—Å—å–±–∞!'
                                      '\n InstFastBot –∫—Ä–∞—à–Ω–µ—Ç—Å—è –∏ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –í—ã –µ–º—É –±—É–¥–µ—Ç–µ –¥–∞–≤–∞—Ç—å –µ–º—É —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ (2 –∏ –±–æ–ª–µ–µ). '
                                      '\n –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ!')

@bot.message_handler(commands=['subscribe'])  # –∫–æ–º–∞–Ω–¥–∞ /subscribe
def help(message):
    bot.send_message(message.chat.id, 'ü§ñ InstFastBot –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ª—é–±–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –∏–∑ Instagram. '
                                      '\n –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:'
                                      '\n  1. –ó–∞–π–¥–∏—Ç–µ –≤ Instagram.'
                                      '\n  2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å –∞–∫–∫–∞—É–Ω—Ç.'
                                      '\n  3. –ó–∞–ø–æ–º–Ω–∏—Ç–µ –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞ (–±–µ–∑ @).'
                                      '\n  4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞—à–µ–º—É –±–æ—Ç—É –Ω–∏–∫ (–±–µ–∑ @)!'
                                      '\n \n ps –µ—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –∑–∞–∫—Ä—ã—Ç—ã–π - –æ—Ç–ø—Ä–∞–≤–∏—Ç –∑–∞–ø—Ä–æ—Å')


@bot.message_handler(commands=['like_all_acc'])
def help(message):
    bot.send_message(message.chat.id, 'ü§ñ InstFastBot –º–æ–∂–µ—Ç –ø—Ä–æ–ª–∞–π–∫–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫–∫–∞—É–Ω—Ç —á–µ–ª–æ–≤–µ–∫–∞!'
                                      '\n –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:'
                                      '\n  1. –ó–∞–π–¥–∏—Ç–µ –≤ Instagram.'
                                      '\n  2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å –∞–∫–∫–∞—É–Ω—Ç.'
                                      '\n  3. –ó–∞–ø–æ–º–Ω–∏—Ç–µ –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞ (–±–µ–∑ @).'
                                      '\n  4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞—à–µ–º—É –±–æ—Ç—É –Ω–∏–∫ (–±–µ–∑ @)!'
                                      '\n \n ps –µ—Å–ª–∏ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –ø–æ—Å—Ç–æ–≤ - –±–æ—Ç –∫—Ä–∞—à–Ω–µ—Ç—Å—è. —É–≤—ã, –Ω–æ—É—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ—Ç—è–Ω—É—Ç—å –Ω–∞ —Å–µ–±–µ 5000 –ø–æ—Å—Ç–æ–≤, –∫–∞–∫ —É —Å–∫–∞–ª—ã...')

@bot.message_handler(commands=['save_photo'])
def help(message):
    bot.send_message(message.chat.id, 'ü§ñ InstFastBot –º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å —Ñ–æ—Ç–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "jpg"!'
                                      '\n –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:'
                                      '\n  1. –ó–∞–π–¥–∏—Ç–µ –≤ Instagram.'
                                      '\n  2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å –ø–æ—Å—Ç (—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é).'
                                      '\n  3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞—à–µ–º—É –±–æ—Ç—É —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ—Å—Ç(—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é)!'
                                      '\n \n ps –≤–∏–¥–µ–æ –±–æ—Ç –ø–æ–∫–∞ —á—Ç–æ –Ω–µ —É–º–µ–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ instagram —Å—Ç–∞–ª —É–º–Ω–µ–µ –∏ —à–∏—Ñ—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É —Å –ø–æ–º–æ—â—å—é "blog".\n –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –∑–Ω–∞–µ—Ç –∫–∞–∫ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É - –ø–∏—à–∏—Ç–µ –º–Ω–µ –Ω–∞ –ø–æ—á—Ç—É slavik5yakimenko@gmail.com ')

@bot.message_handler(commands=['like_post'])
def help(message):
    bot.send_message(message.chat.id, 'ü§ñ InstFastBot –º–æ–∂–µ—Ç –ª–∞–π–∫–Ω—É—Ç—å –ø–æ—Å—Ç –ø–æ —Å—Å—ã–ª–∫–µ!'
                                      '\n –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:'
                                      '\n  1. –ó–∞–π–¥–∏—Ç–µ –≤ Instagram.'
                                      '\n  2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å –ø–æ—Å—Ç.'
                                      '\n  3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É¬ª.'
                                      '\n  4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞—à–µ–º—É –±–æ—Ç—É —ç—Ç—É —Å—Å—ã–ª–∫—É!')

@bot.message_handler(content_types = ['text'])
def add_message(message):

    markup = types.InlineKeyboardMarkup(row_width=2)
    item1 = types.InlineKeyboardButton("1", callback_data='1')
    item2 = types.InlineKeyboardButton("2", callback_data='2')
    item3 = types.InlineKeyboardButton("3", callback_data='3')
    item4 = types.InlineKeyboardButton("4", callback_data='4')
    markup.add(item1, item2, item3, item4)

    if message.chat.type == 'private':
        if message.text == '–°–ø—Ä–∞–≤–∫–∞':
            info = 'üìï–°–ø—Ä–∞–≤–∫–∞ (/help): \n üìå 1) –ü—Ä–æ–ª–∞–π–∫–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫–∫–∞—É–Ω—Ç (/like_all_acc); \n üìå 2) –õ–∞–π–∫–Ω—É—Ç—å –ø–æ—Å—Ç –ø–æ —Å—Å—ã–ª–∫–µ (/like_post); \n \nüì≤ 3) –°–∫–∞—á–∞—Ç—å —Ñ–æ—Ç–æ –ø–æ—Å—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ (/save_photo); \n\nüìù 4) –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç (/subscribe)'
            bot.send_message(message.chat.id, info, reply_markup=markup)

def nickname_reg_many_likes(message):
    global nickname
    nickname = message.text
    #bot.send_message(message.chat.id, '–ù–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞: ' + nickname)
    bot.send_message(message.chat.id, '–ü—Ä–∏–Ω—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É.\n–ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.')
    get_many_likes(userpage=nickname)
    bot.send_message(message.chat.id, '–í—Å–µ –ª–∞–π–∫–∏ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã!')

def like_on_post(message):
    global link_like_on_post
    link_like_on_post = message.text
    #bot.send_message(message.chat.id, '–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç: ' + link_like_on_post)
    bot.send_message(message.chat.id, '–ü—Ä–∏–Ω—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É.\n–ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.')
    instbot_like_on_post()
    bot.send_message(message.chat.id, '–õ–∞–π–∫ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω!')

def nickname_download_photo_acc(message):
    global nickname_download_photoo_acc
    nickname_download_photoo_acc = message.text
    bot.send_message(message.chat.id, '–ü—Ä–∏–Ω—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É.\n–ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.')
    # gif = open("loading.gif", 'rb')
    # loading = bot.send_animation(message.chat.id, gif)
    download_file_photo_acc(userpage=nickname_download_photoo_acc)
    bot.send_photo(message.chat.id, open(post_id + '.jpg', 'rb'))
    bot.send_document(message.chat.id, open(post_id + '.jpg', 'rb'))

def nickname_follow_def(message):
    global nickname_follow
    nickname_follow = message.text
    bot.send_message(message.chat.id, '–ü—Ä–∏–Ω—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É.\n–ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.')
    follow(userpage=nickname_follow)
    bot.send_message(message.chat.id, '–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç'+ ' ' + nickname_follow + ' ' + '–≤—ã–ø–æ–ª–Ω–µ–Ω–∞!')

@bot.callback_query_handler(func=lambda call: True)
def callback_worker(call):
    if call.data == '1':
        bot.send_message(call.message.chat.id, '–í—ã–±—Ä–∞–Ω –ø—É–Ω–∫—Ç 1 ‚úÖ\n–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞' )
        bot.answer_callback_query(callback_query_id=call.id, show_alert=False, text="–ë—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ")  # –ø–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        bot.register_next_step_handler(call.message, nickname_reg_many_likes)
    elif call.data == '2':
        bot.send_message(call.message.chat.id, '–í—ã–±—Ä–∞–Ω –ø—É–Ω–∫—Ç 2 ‚úÖ\n–ù–∞–ø–∏—à–∏—Ç–µ —Å—Å—ã–ª–∫—É –ø–æ—Å—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫')
        bot.answer_callback_query(callback_query_id=call.id, show_alert=False, text="–ë—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ")  # –ø–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        bot.register_next_step_handler(call.message, like_on_post)
    elif call.data == '3':
        bot.send_message(call.message.chat.id, '–í—ã–±—Ä–∞–Ω –ø—É–Ω–∫—Ç 3 ‚úÖ\n–ù–∞–ø–∏—à–∏—Ç–µ —Å—Å—ã–ª–∫—É –ø–æ—Å—Ç–∞ (—Ñ–æ—Ç–æ), –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å')
        bot.answer_callback_query(callback_query_id=call.id, show_alert=False, text="–ë—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ")  # –ø–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        bot.register_next_step_handler(call.message, nickname_download_photo_acc)
    elif call.data == '4':
        bot.send_message(call.message.chat.id, '–í—ã–±—Ä–∞–Ω –ø—É–Ω–∫—Ç 4 ‚úÖ\n–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è')
        bot.answer_callback_query(callback_query_id=call.id, show_alert=False, text="–ë—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ")  # –ø–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        bot.register_next_step_handler(call.message, nickname_follow_def)

bot.polling(none_stop=True)   # –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ—Å–ø—Ä–µ—Ä—ã–≤–Ω–æ